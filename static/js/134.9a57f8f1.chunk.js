"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{134:function(e,t,n){n.r(t);var a=n(439),r=n(791),i=n(87),c=n(243),u=n(474),l=n(184);t.default=function(){var e,t=(0,i.lr)(),n=(0,a.Z)(t,2),o=n[0],s=n[1],h=(0,r.useState)(""),m=(0,a.Z)(h,2),d=m[0],f=m[1],p=(0,r.useState)(!1),j=(0,a.Z)(p,2),v=j[0],x=j[1],y=(0,r.useState)([]),Z=(0,a.Z)(y,2),I=Z[0],g=Z[1],k=null!==(e=o.get("query"))&&void 0!==e?e:"";(0,r.useEffect)((function(){if(""!==k){x(!0);c.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(k,"&include_adult=false&language=en-US"),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkZjBjOWZhNTA0MDcxMTlhOWY3MWZlMTUwMGRjZWUxMCIsInN1YiI6IjY0OWYwODcwNmY2YTk5MDEzYTg5ZjQwYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.CNFILj_LKfHuzNXrxVFMlOf4mJknB8NFdiCkmm6wFOY"}}).then((function(e){g(e.data.results),x(!1)})).catch((function(e){console.error(e),x(!1)}))}}),[k]);var w=""===d.trim();return(0,l.jsxs)("main",{children:[(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;s({query:t.elements.query.value}),t.reset()},children:[(0,l.jsx)("input",{type:"text",placeholder:"Enter movie name",name:"query",value:d,onChange:function(e){f(e.target.value)}}),(0,l.jsx)("button",{type:"submit",disabled:w,children:"Search"})]}),v?(0,l.jsx)(u.Z,{}):""===k?"":(0,l.jsx)("ul",{children:0===I.length?(0,l.jsx)("p",{children:"Ops! Not found films with this name."}):I.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(i.rU,{to:{pathname:"/movies/".concat(e.id)},state:{from:"/movies?query=".concat(k)},children:e.name||e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=134.9a57f8f1.chunk.js.map